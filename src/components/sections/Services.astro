---
/**
 * Services Overview
 * Card grid showing all services from siteConfig.
 * Each card has an icon, title, description, and link to the service page.
 *
 * data-section="services"
 */

import { siteConfig } from '../../data/siteConfig';
import SectionWrapper from '../ui/SectionWrapper.astro';
import Card from '../ui/Card.astro';

/* SVG icon map â€” inline SVGs keep the page lightweight */
const icons: Record<string, string> = {
  wrench: `<svg class="w-10 h-10 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21.75 6.75a4.5 4.5 0 01-4.884 4.484c-1.076-.091-2.264.071-2.95.904l-7.152 8.684a2.548 2.548 0 11-3.586-3.586l8.684-7.152c.833-.686.995-1.874.904-2.95a4.5 4.5 0 016.336-4.486l-3.276 3.276a3.004 3.004 0 002.25 2.25l3.276-3.276c.256.565.398 1.192.398 1.852z"/></svg>`,
  chart: `<svg class="w-10 h-10 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"/></svg>`,
  shield: `<svg class="w-10 h-10 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"/></svg>`,
};
---

<SectionWrapper id="services" alt>
  <!-- Section heading -->
  <div class="text-center mb-12 md:mb-16">
    <h2 class="text-3xl md:text-4xl font-heading font-bold text-secondary mb-4">
      What We Do
    </h2>
    <p class="text-content-light text-lg max-w-2xl mx-auto">
      We offer a full range of professional services designed to keep your home
      in top shape. Here's how we can help.
    </p>
  </div>

  <!-- Service cards grid -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
    {siteConfig.services.map((service) => (
      <Card class="flex flex-col items-start text-left">
        <!-- Icon -->
        <div class="mb-4" set:html={icons[service.icon] || icons.wrench} />

        <!-- Title -->
        <h3 class="text-xl font-heading font-semibold text-secondary mb-2">
          {service.title}
        </h3>

        <!-- Description -->
        <p class="text-content-light mb-4 flex-1">
          {service.description}
        </p>

        <!-- Learn More link -->
        <a
          href={`/services/${service.slug}/`}
          class="inline-flex items-center gap-1 text-primary font-medium hover:text-primary-dark transition-colors"
        >
          Learn More
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      </Card>
    ))}
  </div>
</SectionWrapper>
