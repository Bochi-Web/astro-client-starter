---
/**
 * Service Three — Individual Service Page
 * Full service detail page with hero, overview, features, process, FAQ, and CTA.
 * Each section has its own data-section attribute for the AI editor.
 */

import BaseLayout from '../../layouts/BaseLayout.astro';
import { siteConfig } from '../../data/siteConfig';
import Button from '../../components/ui/Button.astro';
import SectionWrapper from '../../components/ui/SectionWrapper.astro';

const service = siteConfig.services[2];

const features = [
  { title: 'Round-the-Clock Protection', description: 'Our solutions work 24/7 so you don\'t have to worry — even when you\'re away.' },
  { title: 'Proactive Monitoring', description: 'We identify and address vulnerabilities before they become real problems.' },
  { title: 'Certified Specialists', description: 'Our team holds industry certifications and stays current with best practices.' },
  { title: 'Comprehensive Coverage', description: 'We protect every angle — nothing slips through the cracks.' },
  { title: 'Transparent Communication', description: 'Regular updates and detailed reports keep you fully informed.' },
  { title: 'Guaranteed Satisfaction', description: 'If you\'re not 100% happy, we\'ll make it right. Period.' },
];

const processSteps = [
  { step: '1', title: 'Security Audit', description: 'We perform a thorough evaluation of your property\'s current protection level.' },
  { step: '2', title: 'Custom Solution', description: 'We design a tailored protection plan based on your specific needs and budget.' },
  { step: '3', title: 'Professional Setup', description: 'Our certified team installs and configures everything to the highest standard.' },
  { step: '4', title: 'Ongoing Maintenance', description: 'We provide regular check-ins and adjustments to keep your protection current.' },
];

const faqs = [
  { question: 'What does your protection plan cover?', answer: 'Our plans are customizable, but a standard package includes a full property assessment, implementation of protective measures, regular inspections, and 24/7 emergency response support.' },
  { question: 'How quickly can you respond to emergencies?', answer: 'For active clients, we offer priority emergency response — typically within 2-4 hours. For after-hours emergencies, our on-call team is available 24/7.' },
  { question: 'Do you offer maintenance agreements?', answer: 'Yes. Our annual maintenance agreements include scheduled inspections, priority service, and discounted rates on any additional work. Most clients find the peace of mind well worth it.' },
  { question: 'Can you work with my existing setup?', answer: 'Absolutely. We\'re experienced with all major systems and brands. During our audit, we\'ll evaluate what you have and recommend upgrades only where necessary.' },
];
---

<BaseLayout title={`${service.title} — ${siteConfig.businessName}`} description={service.description}>

  <!-- Service Hero -->
  <section data-section="service-hero" class="relative bg-secondary overflow-hidden">
    <div class="absolute inset-0">
      <img
        src="https://images.unsplash.com/photo-1558618666-fcd25c85f82e?w=1600&q=80"
        alt={service.title}
        class="w-full h-full object-cover"
        loading="eager"
      />
      <div class="absolute inset-0 bg-secondary/75"></div>
    </div>
    <div class="relative max-w-7xl mx-auto px-4 py-20 md:py-32">
      <div class="max-w-2xl">
        <p class="text-primary-light font-medium mb-2">Our Services</p>
        <h1 class="text-4xl md:text-5xl font-heading font-extrabold text-white mb-6">{service.title}</h1>
        <p class="text-lg text-gray-200 mb-8 leading-relaxed">
          Comprehensive protection for your home and property. We handle the details so you can enjoy total peace of mind.
        </p>
        <Button href="/contact/">Request a Free Quote</Button>
      </div>
    </div>
  </section>

  <!-- Service Overview -->
  <SectionWrapper id="service-overview">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
      <div>
        <h2 class="text-3xl font-heading font-bold text-secondary mb-6">What's Included</h2>
        <p class="text-content-light text-lg leading-relaxed mb-4">
          Our {service.title.toLowerCase()} service provides complete, worry-free coverage for your property. We start with a comprehensive audit to understand your unique situation, then build a custom solution that fits your needs and budget.
        </p>
        <p class="text-content-light leading-relaxed mb-6">
          From initial setup to ongoing maintenance, we handle everything with the professionalism and care your home deserves. Our certified team stays on top of the latest industry standards so you don't have to.
        </p>
        <Button href="/contact/" variant="secondary">Get Started Today</Button>
      </div>
      <img
        src="https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800&q=80"
        alt={`${service.title} consultation`}
        class="rounded-lg shadow-lg w-full h-auto object-cover aspect-[4/3]"
        loading="lazy"
      />
    </div>
  </SectionWrapper>

  <!-- Service Features / Benefits -->
  <SectionWrapper id="service-features" alt>
    <div class="text-center mb-12">
      <h2 class="text-3xl font-heading font-bold text-secondary mb-4">Why Choose Our {service.title}</h2>
      <p class="text-content-light text-lg max-w-2xl mx-auto">Complete protection, total peace of mind.</p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {features.map((f) => (
        <div class="flex items-start gap-4">
          <div class="w-10 h-10 rounded-full bg-primary-light flex items-center justify-center flex-shrink-0">
            <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
          </div>
          <div>
            <h3 class="font-semibold text-secondary mb-1">{f.title}</h3>
            <p class="text-sm text-content-light">{f.description}</p>
          </div>
        </div>
      ))}
    </div>
  </SectionWrapper>

  <!-- Service Process -->
  <SectionWrapper id="service-process">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-heading font-bold text-secondary mb-4">Our Process</h2>
      <p class="text-content-light text-lg max-w-2xl mx-auto">A proven approach to keeping your property safe.</p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      {processSteps.map((s) => (
        <div class="text-center">
          <div class="w-16 h-16 rounded-full bg-primary text-white flex items-center justify-center text-2xl font-heading font-bold mx-auto mb-4 shadow-md">
            {s.step}
          </div>
          <h3 class="font-semibold text-secondary mb-2">{s.title}</h3>
          <p class="text-sm text-content-light">{s.description}</p>
        </div>
      ))}
    </div>
  </SectionWrapper>

  <!-- Service FAQ -->
  <SectionWrapper id="service-faq" alt>
    <div class="text-center mb-12">
      <h2 class="text-3xl font-heading font-bold text-secondary mb-4">Common Questions</h2>
    </div>
    <div class="max-w-3xl mx-auto space-y-3">
      {faqs.map((faq) => (
        <div class="border border-border rounded-lg overflow-hidden">
          <button
            type="button"
            class="svc-faq-trigger w-full flex items-center justify-between px-6 py-4 text-left font-medium text-secondary hover:bg-surface-alt transition-colors cursor-pointer"
            aria-expanded="false"
          >
            <span>{faq.question}</span>
            <svg class="svc-faq-chevron w-5 h-5 text-content-light flex-shrink-0 ml-4 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          <div class="svc-faq-panel hidden px-6 pb-4" role="region">
            <p class="text-content-light leading-relaxed">{faq.answer}</p>
          </div>
        </div>
      ))}
    </div>
  </SectionWrapper>

  <!-- Service CTA -->
  <section data-section="service-cta" class="bg-primary relative overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-r from-primary-dark to-primary opacity-90"></div>
    <div class="relative max-w-7xl mx-auto px-4 py-16 md:py-20 text-center">
      <h2 class="text-3xl font-heading font-bold text-white mb-4">Ready for Professional {service.title}?</h2>
      <p class="text-white/90 text-lg max-w-xl mx-auto mb-8">
        Get a free, no-obligation quote today. We typically respond within 24 hours.
      </p>
      <a href="/contact/" class="inline-flex items-center justify-center px-6 py-3 font-semibold rounded-md text-sm md:text-base bg-white text-primary hover:bg-gray-100 transition-colors duration-200">Get Your Free Quote</a>
    </div>
  </section>

</BaseLayout>

<script>
  document.querySelectorAll('.svc-faq-trigger').forEach((trigger) => {
    trigger.addEventListener('click', () => {
      const panel = trigger.nextElementSibling as HTMLElement;
      const chevron = trigger.querySelector('.svc-faq-chevron');
      const isOpen = trigger.getAttribute('aria-expanded') === 'true';
      document.querySelectorAll('.svc-faq-trigger').forEach((other) => {
        if (other !== trigger) {
          other.setAttribute('aria-expanded', 'false');
          (other.nextElementSibling as HTMLElement)?.classList.add('hidden');
          other.querySelector('.svc-faq-chevron')?.classList.remove('rotate-180');
        }
      });
      trigger.setAttribute('aria-expanded', String(!isOpen));
      panel?.classList.toggle('hidden');
      chevron?.classList.toggle('rotate-180');
    });
  });
</script>
