---
/**
 * Service Two — Individual Service Page
 * Full service detail page with hero, overview, features, process, FAQ, and CTA.
 * Each section has its own data-section attribute for the AI editor.
 */

import BaseLayout from '../../layouts/BaseLayout.astro';
import { siteConfig } from '../../data/siteConfig';
import Button from '../../components/ui/Button.astro';
import SectionWrapper from '../../components/ui/SectionWrapper.astro';

const service = siteConfig.services[1];

const features = [
  { title: 'Data-Driven Approach', description: 'We analyze the numbers before recommending solutions so every decision is backed by evidence.' },
  { title: 'Custom Plans', description: 'No cookie-cutter solutions here. Every plan is tailored to your property and priorities.' },
  { title: 'Ongoing Support', description: 'We don\'t disappear after the first visit. We\'re here for follow-ups and adjustments.' },
  { title: 'Clear Reporting', description: 'You\'ll always know what was done, what was found, and what comes next.' },
  { title: 'Preventive Focus', description: 'We catch small issues before they become costly problems.' },
  { title: 'Flexible Scheduling', description: 'Weekend and evening appointments available to fit your busy life.' },
];

const processSteps = [
  { step: '1', title: 'Initial Assessment', description: 'We evaluate your current situation and identify opportunities for improvement.' },
  { step: '2', title: 'Custom Proposal', description: 'We build a detailed plan with clear pricing, timeline, and expected outcomes.' },
  { step: '3', title: 'Implementation', description: 'Our specialists carry out the plan with precision and minimal disruption.' },
  { step: '4', title: 'Review & Adjust', description: 'We follow up to measure results and make any necessary fine-tuning.' },
];

const faqs = [
  { question: 'How often should I schedule this service?', answer: 'For most homeowners, we recommend a quarterly schedule. We\'ll assess your specific situation and suggest the ideal frequency during your consultation.' },
  { question: 'Is there a minimum contract required?', answer: 'No long-term contracts. We earn your business every visit. That said, many clients choose our maintenance plans for convenience and savings.' },
  { question: 'What makes your approach different?', answer: 'We combine modern techniques with old-fashioned attention to detail. Every job includes a written report so you have full transparency into the work performed.' },
  { question: 'Do you offer emergency services?', answer: 'Yes. For urgent situations, we offer same-day and next-day service whenever possible. Call us directly for emergency scheduling.' },
];
---

<BaseLayout title={`${service.title} — ${siteConfig.businessName}`} description={service.description}>

  <!-- Service Hero -->
  <section data-section="service-hero" class="relative bg-secondary overflow-hidden">
    <div class="absolute inset-0">
      <img
        src="https://images.unsplash.com/photo-1460317442991-0ec209397118?w=1600&q=80"
        alt={service.title}
        class="w-full h-full object-cover"
        loading="eager"
      />
      <div class="absolute inset-0 bg-secondary/75"></div>
    </div>
    <div class="relative max-w-7xl mx-auto px-4 py-20 md:py-32">
      <div class="max-w-2xl">
        <p class="text-primary-light font-medium mb-2">Our Services</p>
        <h1 class="text-4xl md:text-5xl font-heading font-extrabold text-white mb-6">{service.title}</h1>
        <p class="text-lg text-gray-200 mb-8 leading-relaxed">
          Smart, strategic service that helps you stay ahead of problems and keep your property performing at its best.
        </p>
        <Button href="/contact/">Request a Free Quote</Button>
      </div>
    </div>
  </section>

  <!-- Service Overview -->
  <SectionWrapper id="service-overview">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
      <div>
        <h2 class="text-3xl font-heading font-bold text-secondary mb-6">What's Included</h2>
        <p class="text-content-light text-lg leading-relaxed mb-4">
          Our {service.title.toLowerCase()} service goes beyond the surface. We take a strategic, analytical approach to identify what your property actually needs — then deliver targeted solutions that save you time and money in the long run.
        </p>
        <p class="text-content-light leading-relaxed mb-6">
          Every engagement includes a detailed assessment, a clear plan of action, and a follow-up review to make sure the results are sticking. No guesswork, no wasted effort.
        </p>
        <Button href="/contact/" variant="secondary">Get Started Today</Button>
      </div>
      <img
        src="https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=800&q=80"
        alt={`${service.title} consultation`}
        class="rounded-lg shadow-lg w-full h-auto object-cover aspect-[4/3]"
        loading="lazy"
      />
    </div>
  </SectionWrapper>

  <!-- Service Features / Benefits -->
  <SectionWrapper id="service-features" alt>
    <div class="text-center mb-12">
      <h2 class="text-3xl font-heading font-bold text-secondary mb-4">Why Choose Our {service.title}</h2>
      <p class="text-content-light text-lg max-w-2xl mx-auto">Here's what sets our service apart from the rest.</p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {features.map((f) => (
        <div class="flex items-start gap-4">
          <div class="w-10 h-10 rounded-full bg-primary-light flex items-center justify-center flex-shrink-0">
            <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
          </div>
          <div>
            <h3 class="font-semibold text-secondary mb-1">{f.title}</h3>
            <p class="text-sm text-content-light">{f.description}</p>
          </div>
        </div>
      ))}
    </div>
  </SectionWrapper>

  <!-- Service Process -->
  <SectionWrapper id="service-process">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-heading font-bold text-secondary mb-4">Our Process</h2>
      <p class="text-content-light text-lg max-w-2xl mx-auto">A methodical approach that delivers real results.</p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
      {processSteps.map((s) => (
        <div class="text-center">
          <div class="w-16 h-16 rounded-full bg-primary text-white flex items-center justify-center text-2xl font-heading font-bold mx-auto mb-4 shadow-md">
            {s.step}
          </div>
          <h3 class="font-semibold text-secondary mb-2">{s.title}</h3>
          <p class="text-sm text-content-light">{s.description}</p>
        </div>
      ))}
    </div>
  </SectionWrapper>

  <!-- Service FAQ -->
  <SectionWrapper id="service-faq" alt>
    <div class="text-center mb-12">
      <h2 class="text-3xl font-heading font-bold text-secondary mb-4">Common Questions</h2>
    </div>
    <div class="max-w-3xl mx-auto space-y-3">
      {faqs.map((faq) => (
        <div class="border border-border rounded-lg overflow-hidden">
          <button
            type="button"
            class="svc-faq-trigger w-full flex items-center justify-between px-6 py-4 text-left font-medium text-secondary hover:bg-surface-alt transition-colors cursor-pointer"
            aria-expanded="false"
          >
            <span>{faq.question}</span>
            <svg class="svc-faq-chevron w-5 h-5 text-content-light flex-shrink-0 ml-4 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          <div class="svc-faq-panel hidden px-6 pb-4" role="region">
            <p class="text-content-light leading-relaxed">{faq.answer}</p>
          </div>
        </div>
      ))}
    </div>
  </SectionWrapper>

  <!-- Service CTA -->
  <section data-section="service-cta" class="bg-primary relative overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-r from-primary-dark to-primary opacity-90"></div>
    <div class="relative max-w-7xl mx-auto px-4 py-16 md:py-20 text-center">
      <h2 class="text-3xl font-heading font-bold text-white mb-4">Ready for Professional {service.title}?</h2>
      <p class="text-white/90 text-lg max-w-xl mx-auto mb-8">
        Get a free, no-obligation quote today. We typically respond within 24 hours.
      </p>
      <a href="/contact/" class="inline-flex items-center justify-center px-6 py-3 font-semibold rounded-md text-sm md:text-base bg-white text-primary hover:bg-gray-100 transition-colors duration-200">Get Your Free Quote</a>
    </div>
  </section>

</BaseLayout>

<script>
  document.querySelectorAll('.svc-faq-trigger').forEach((trigger) => {
    trigger.addEventListener('click', () => {
      const panel = trigger.nextElementSibling as HTMLElement;
      const chevron = trigger.querySelector('.svc-faq-chevron');
      const isOpen = trigger.getAttribute('aria-expanded') === 'true';
      document.querySelectorAll('.svc-faq-trigger').forEach((other) => {
        if (other !== trigger) {
          other.setAttribute('aria-expanded', 'false');
          (other.nextElementSibling as HTMLElement)?.classList.add('hidden');
          other.querySelector('.svc-faq-chevron')?.classList.remove('rotate-180');
        }
      });
      trigger.setAttribute('aria-expanded', String(!isOpen));
      panel?.classList.toggle('hidden');
      chevron?.classList.toggle('rotate-180');
    });
  });
</script>
